<!DOCTYPE html>
<html lang="en">
<head>
<title>CMC</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="aStar Fashion Template Project">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="../static/styles/bootstrap-4.1.3/bootstrap.css">

<link rel="stylesheet" type="text/css" href="../static/plugins/font-awesome-4.7.0/css/font-awesome.min.css" >
<link rel="stylesheet" type="text/css" href="../static/plugins/OwlCarousel2-2.2.1/owl.carousel.css">
<link rel="stylesheet" type="text/css" href="../static/plugins/OwlCarousel2-2.2.1/owl.theme.default.css">
<link rel="stylesheet" type="text/css" href="../static/plugins/OwlCarousel2-2.2.1/animate.css">
<link rel="stylesheet" type="text/css" href="../static/styles/main_styles.css">
<link rel="stylesheet" type="text/css" href="../static/styles/responsive.css">
<link href="https://fonts.googleapis.com/css2?family=Raleway:wght@700&display=swap" rel="stylesheet">
</head>
<body>

<div class="super_container">

	<!-- Header -->

	<header class="header">
		<div class="header_content d-flex flex-row align-items-center justify-content-start">
			
			<!-- Hamburger -->
			

			<!-- Header Extra -->
			<div class="header_extra ml-auto d-flex flex-row align-items-center justify-content-start">



				<!-- Cart -->
				<div class="cart d-flex flex-row align-items-center justify-content-start">
					<div class="cart_icon"><a href="../templates/cart.html">
						<img src="../static/images/bag.png" alt="">
						<div class="cart_num">2</div>
					</a></div>
				</div>

			</div>

		</div>
	</header>


	
	<!-- Sidebar -->

	<div class="sidebar">
		


		<!-- Logo -->
		<div class="sidebar_logo">
			<a href="#"><div>C<span>M</span>C</div></a>
		</div>

		<!-- Sidebar Navigation -->
		<nav class="sidebar_nav">
			<ul>
				<!-- <li><a href="index.html">Select By Material Type<i class="fa fa-angle-right" aria-hidden="true"></i></a></li>
				<li><a href="#">Select By Color<i class="fa fa-angle-right" aria-hidden="true"></i></a></li> -->
			</ul>
		</nav>

		<!-- Search -->
		<div class="search">
			<form action="#" class="search_form" id="sidebar_search_form">
				<input type="text" id="search_input" class="search_input" placeholder="Search Anything" required="required">
				<button class="search_button"><i class="fa fa-search" aria-hidden="true"></i></button>
			</form><br><br>

			<span style="border: grey 2px;">
				<h5 style="color: orange">Search instructions :</h5><br>
				<h6 style="color:grey ;font-size: 12px;">search by color eg. brown OR</h6><br>
				<h6 style="color:grey;font-size: 12px;">search by material eg. terracotta OR</h6><br>
				<h6 style="color:grey;font-size: 12px;">search by combination eg. brown terracotta </h6><br>

			</span>
		</div><br><br><br><br><br><br><br><br>

		<!-- Cart -->
		<div class="cart d-flex flex-row align-items-center justify-content-start">
			<div class="cart_icon"><a href="/cart">
				<img src="../static/images/bag.png" alt="">
				<div class="cart_num">2</div>
			</a></div>
			<div class="cart_text">Basket</div>
		</div>
	</div>

	<!-- Home -->
				
	<div class="products">
		<div class="section_container">
			<div class="container">
				<div class="row">
					<div class="col">
						<div class="row" id="right_panel">

							
							
							

						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

    <div id="result"></div>

	<!-- Newsletter -->



	<!-- Footer -->



</div>

<script src="../static/js/jquery-3.2.1.min.js"></script>
<script src="../static/styles/bootstrap-4.1.3/popper.js"></script>
<script src="../static/styles/bootstrap-4.1.3/bootstrap.min.js"></script>
<script src="../static/plugins/greensock/TweenMax.min.js"></script>
<script src="../static/plugins/greensock/TimelineMax.min.js"></script>
<script src="../static/plugins/scrollmagic/ScrollMagic.min.js"></script>
<script src="../static/plugins/greensock/animation.gsap.min.js"></script>
<script src="../static/plugins/greensock/ScrollToPlugin.min.js"></script>
<script src="../static/plugins/OwlCarousel2-2.2.1/owl.carousel.js"></script>
<script src="../static/plugins/easing/easing.js"></script>
<script src="../static/plugins/parallax-js-master/parallax.min.js"></script>
<script src="../static/plugins/Isotope/isotope.pkgd.min.js"></script>
<script src="../static/plugins/Isotope/fitcolumns.js"></script>
<script src="../static/js/custom.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<script type="text/javascript">





const default_page_request = async () => {
    const response = await fetch('http://0.0.0.0:5000/sample_data');
    const data = await response.json();
	$.each(data, function(index, value){
		html_to_load = '<div class="product grid-item"><div class="product_inner"><div class="product_image"><img src="../static/images/id.jpg" href="/product/'+value['_id']+'" alt=""></div><div class="product_content text-center"><div class="product_title"><a href="/product/'+value['_id']+'">'+value['Mara-Quality Name']+'</a></div><div class="product_price">'+value['Basic Material']+'</div></div></div></div>'
		$("#right_panel").append(html_to_load);
	});
}

const search_request = async (search_text) => {
    const response = await fetch('http://0.0.0.0:5000/search/'+search_text);
    const data = await response.json();
	if (data.length == 0){
		$("#right_panel").html('<h3>Sorry no results for : '+search_text+'</h3>');
	}else{
		$("#right_panel").html('');
		$.each(data, function(index, value){
		html_to_load = '<div class="product grid-item"><div class="product_inner"><div class="product_image" ><img src="../static/images/id.jpg" href="/product/'+value['_id']+'" alt=""></div><div class="product_content text-center"><div class="product_title"><a href="/product/'+value['_id']+'">'+value['Mara-Quality Name']+'</a></div><div class="product_price">'+value['Basic Material']+'</div></div></div></div>'
		$("#right_panel").append(html_to_load);
	});

	}

}

default_page_request()

$("#search_input").on('change keydown paste input', function(){
	$("#right_panel").html('');
	search_request($(this).val())
});


</script>
</body>

</html>


	